:imagesdir: ../../images
:page-nav_order: 40
:page-parent: Under the Hood
:page-title: Structure of the Generated Code
:page-has_children: true
:src-dir: ../../../../core/src
:source-language: javascript
:listing-caption: Code Sample
= Structure of the Generated Code

== The Three-way Approach
ProjectIt uses a three-way approach to decide which code to execute on a certain node of the AST.

. *Custom build code* is always preferred above all other code.
. Code based on one of the *definition files* is executed, when no custom build code is present.
. When no definition files are present, the *default code* is executed.

As said, this choice is made per AST node. Thus, you may write custom code for, for instance, projecting
instances of the DemoFunction concept. For all other nodes in the AST, this will make no difference. Likewise,
if you include a definition for a certain node in the definition file, there are no consequences for other
nodes.

This three-way approach makes it possible to create your language step-by-step, in an agile fashion. If you
want to implement custom code, please check the information on the xref:interfaces.adoc[interfaces].

(Sorry, currently this approach is implemented only for the editor. In future, we will make this available
for the other parts of the language environment as well.)

== The folders
The code that is generated by ProjectIt is divided into the following folders.

*	`editor`: contains the editor, plus files where custom build projections and actions can be placed.
*	`environment`: contains a class used to bind all parts of the language environment together.
*	`language`: contains the implementation of the concepts and interfaces in the language definition.
*   `projectit`: contains an entry point where custom build code can be added
*	`scoper`: contains the scoper
*   `stdlib`: contains the standard library
*	`typer`: contains the typer
*   `unparser`: contains an unparser based on the editor definition that is used for error messages
*   `utils`: contains some extras, like an implementation of the visitor pattern on a language model
*	`validator`: contains the validator

== The `gen` subfolders
The contents of all folders are divided into classes that are contained directly in the folder, and classes
that are contained in the subfolder `gen`. The latter are always removed before regeneration, so be careful
not to add important code to them. Code that is contained directly in each folder is not changed upon
regeneration.




